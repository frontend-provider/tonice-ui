# Accordion

Accordions display a list of high-level options that can expand/collapse to
reveal more information.

## Import

Chakra UI exports 5 accordion related components.

- `Accordion`: The wrapper that uses cloneElement to pass it's prop to the
  `AccordionItem`.
- `AccordionItem`: A single accordion item.
- `AccordionHeader`: The button that toggles the expand/collapse state of the
  accordion item.
- `AccordionPanel`: The container for the details to be revealed.
- `AccordionIcon`: A `chevron-down` icon that rotates based on the
  expanded/collapsed state

```js
import {
  Accordion,
  AccordionItem,
  AccordionHeader,
  AccordionPanel,
  AccordionIcon,
} from "@trendmicro/react-styled-core/Accordion";
```

## Usage

By default, only one item may be expanded and it can only be collapsed again by
expanding another.

```jsx
<Accordion>
  <AccordionItem>
    <AccordionHeader>
      <Box flex="1" textAlign="left">
        Section 1 title
      </Box>
      <AccordionIcon />
    </AccordionHeader>
    <AccordionPanel pb="1rem">
      Trend Micro Frontend
    </AccordionPanel>
  </AccordionItem>

  <AccordionItem>
    <AccordionHeader>
      <Box flex="1" textAlign="left">
        Section 2 title
      </Box>
      <AccordionIcon />
    </AccordionHeader>
    <AccordionPanel pb="1rem">
      Trend Micro Frontend
    </AccordionPanel>
  </AccordionItem>
</Accordion>
```

### Expand multiple items at once

If you set `allowMultiple` to true then the accordion will permit multiple items
to be expanded at once.

> If you pass this prop, ensure that the `index` or `defaultIndex` prop is an
> array.

```jsx
<Accordion defaultIndex={[0]} allowMultiple>
  <AccordionItem>
    <AccordionHeader>
      <Box flex="1" textAlign="left">
        Section 1 title
      </Box>
      <AccordionIcon />
    </AccordionHeader>
    <AccordionPanel pb="1rem">
      Trend Micro Frontend
    </AccordionPanel>
  </AccordionItem>

  <AccordionItem>
    <AccordionHeader>
      <Box flex="1" textAlign="left">
        Section 2 title
      </Box>
      <AccordionIcon />
    </AccordionHeader>
    <AccordionPanel pb="1rem">
      Trend Micro Frontend
    </AccordionPanel>
  </AccordionItem>
</Accordion>
```

### Toggle each accordion item

If you set `allowToggle` to true, any expanded item may be collapsed again.

```jsx
<Accordion allowToggle>
  <AccordionItem>
    <AccordionHeader>
      <Box flex="1" textAlign="left">
        Section 1 title
      </Box>
      <AccordionIcon />
    </AccordionHeader>
    <AccordionPanel pb="1rem">
      Trend Micro Frontend
    </AccordionPanel>
  </AccordionItem>

  <AccordionItem>
    <AccordionHeader>
      <Box flex="1" textAlign="left">
        Section 2 title
      </Box>
      <AccordionIcon />
    </AccordionHeader>
    <AccordionPanel pb="1rem">
      Trend Micro Frontend
    </AccordionPanel>
  </AccordionItem>
</Accordion>
```

### Styling the expanded state

The `AccordionHeader` component has `aria-expanded` set to `true` or `false`
depending on the state of the `AccordionItem`. Use the style prop `_expanded` to
style this state.

```jsx
<AccordionItem>
  <AccordionHeader _expanded={{ bg: "tomato", color: "white" }}>
    <Box flex="1" textAlign="left">
      Click me to see a different style
    </Box>
    <AccordionIcon />
  </AccordionHeader>
  <AccordionPanel>
    Trend Micro Frontend
  </AccordionPanel>
</AccordionItem>
```

### Accessing the internal state

If you need access to the internal state of each accordion item, you can use a
render prop. It provides 2 internal state `isExpanded`, and `isDisabled`.

```jsx
<Accordion allowMultiple>
  <AccordionItem>
    <AccordionHeader>
      <Box flex="1" textAlign="left">
        Section 2 title
      </Box>
      <AccordionIcon />
    </AccordionHeader>
    <AccordionPanel pb="1rem">
      Trend Micro Frontend
    </AccordionPanel>
  </AccordionItem>

  <AccordionItem>
    {({ isExpanded }) => (
      <>
        <AccordionHeader>
          <Box flex="1" textAlign="left">
            Section 2 title
          </Box>
          <Icon size="12px" name={isExpanded ? "minus" : "add"} />
        </AccordionHeader>
        <AccordionPanel pb="1rem">
          Trend Micro Frontend
        </AccordionPanel>
      </>
    )}
  </AccordionItem>
</Accordion>
```

## Accessibility

Pressing `space` or `enter` when focus is on the accordion panel header will
toggle (expand or collapse) the accordion.

## Props

### Accordion Props

| Name          | Type                              | Default | Description                                                                                               |
| ------------- | --------------------------------- | ------- | --------------------------------------------------------------------------------------------------------- |
| allowMultiple | `boolean`                         |         | If `true`, multiple accordion items can be expanded at once.                                              |
| allowToggle   | `boolean`                         |         | If `true`, any expanded accordion item can be collapsed again.                                            |
| index         | `NumberOrArrayOfNumber`           |         | The index(es) of the expanded accordion item                                                              |
| defaultIndex  | `NumberOrArrayOfNumber`           |         | The initial index(es) of the expanded accordion item                                                      |
| onChange      | `(NumberOrArrayOfNumber) => void` |         | The callback invoked when accordion items are expanded or collapsed.                                      |
| children      | `ReactNode`                       |         | The content of the accordion. The children must be the `AccordionHeader` and `AccordionPanel` components. |

### AccordionItem Props

| Name          | Type                                      | Default | Description                                                                                               |
| ------------- | ----------------------------------------- | ------- | --------------------------------------------------------------------------------------------------------- |
| isOpen        | `boolean`                                 |         | If `true`, expands the accordion in the controlled mode.                                                  |
| defaultIsOpen | `boolean`                                 |         | If `true`, expands the accordion by on initial mount.                                                     |
| id            | `string`                                  |         | A unique `id` for the accordion item.                                                                     |
| isDisabled    | `boolean`                                 |         | If `true`, the accordion header will be disabled.                                                         |
| onChange      | `(NumberOrArrayOfNumber) => void`         |         | The callback fired when the accordion is expanded/collapsed.                                              |
| children      | `ReactNode`, `(RenderProps) => ReactNode` |         | The content of the accordion. The children must be the `AccordionHeader` and `AccordionPanel` components. |

<br />

### AccordionHeader Props

AccordionHeader renders a `button` and composes `PseudoBox`, this means you can
style it by passing the pseudo style props `_expanded`, `_disabled`, `_hover`,
etc.

<br />

### AccordionPanel Props

AccordionPanel renders a `div` and composes `Collapse` to provide the height
animation.