# Collapse

`Collapse` is used to create regions of content that can expand/collapse with a simple animation. It helps to hide content that's not immediately relevant to the user.

This component uses [react-animate-height](https://github.com/Stanko/react-animate-height) for animating height.

## Import

```js
import Collapse from '@trendmicro/react-styled-core/Collapse';
// or
import { Collapse } from '@trendmicro/react-styled-core';
```

## Usage

### Basic usage

```jsx
function Example() {
  const [show, setShow] = React.useState(false);
  const handleToggle = () => setShow(!show);

  return (
    <Box whiteSpace="pre-wrap">
      <Box mb=".5rem">
        <Button variantColor="red" onClick={handleToggle}>
          Toggle
        </Button>
      </Box>
      <Collapse isOpen={show}>
        Lorem ipsum is placeholder text commonly used in the graphic, print, and publishing industries for previewing layouts and visual mockups. Lorem ipsum is placeholder text commonly used in the graphic, print, and publishing industries for previewing layouts and visual mockups. Lorem ipsum is placeholder text commonly used in the graphic, print, and publishing industries for previewing layouts and visual mockups.
      </Collapse>
    </Box>
  );
}
```

### Changing the `startingHeight`

```jsx
function Example() {
  const [show, setShow] = React.useState(false);
  const handleToggle = () => setShow(!show);
  const textStyleProps = {
    whiteSpace: show ? 'wrap' : 'nowrap',
    overflow: 'hidden',
    textOverflow: 'ellipsis',
    width: '100%',
  };

  return (
    <Box whiteSpace="pre-wrap">
      <Collapse startingHeight={20} isOpen={show}>
        <Text {...textStyleProps}>
          Lorem ipsum is placeholder text commonly used in the graphic, print, and publishing industries for previewing layouts and visual mockups. Lorem ipsum is placeholder text commonly used in the graphic, print, and publishing industries for previewing layouts and visual mockups. Lorem ipsum is placeholder text commonly used in the graphic, print, and publishing industries for previewing layouts and visual mockups.
        </Text>
      </Collapse>
      <Link onClick={handleToggle}>
        {show ? 'Show less' : 'Show more'}
      </Link>
    </Box>
  );
}
```

## Props

`Collapse` composes the [`Box`](./box) component. You can override the default styles with style props.

| Name | Type | Default | Description |
| :--- | :--- | :------ | :---------- |
| isOpen | `boolean` | false | If `true`, the content will be visible. |
| animateOpacity | `boolean` | true | If `true`, the opacity of the content will be animated. |
| duration | `number` | | The animation duration as it expands. |
| startingHeight | `number` | 0 | The height you want the content in it's collapsed state. Set to `0` by default. |
| endingHeight | `number` | 'auto' | The height you want the content in it's expanded state. Set to `auto` by default. |
| onAnimationEnd | `function` | | The function to be called when the collapse animation starts. It provides the `currentHeight` as an argument. |
| onAnimationStart | `function` | | The function to be called when the collapse animation ends. It provides the `currentHeight` as an argument. |
